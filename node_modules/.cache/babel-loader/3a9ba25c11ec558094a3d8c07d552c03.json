{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elorb\\\\Desktop\\\\erics_repos\\\\CoolCats490\\\\squad-seek\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\"; //Bootstrap Stuff\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport \"bootstrap/dist/css/bootstrap.css\"; //Axios\n\nimport axios from 'axios';\nimport AuthContext from \"../Store/auth-context\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [enteredName, setName] = useState(\"\");\n  const [enteredPass, setPass] = useState(\"\"); //store and get JWL token\n\n  const authCtx = useContext(AuthContext);\n  const isLogedIn = authCtx.isLoggedIn;\n  let history = useHistory();\n\n  const userNamerHandler = event => {\n    setName(event.target.value);\n  };\n\n  const passwordHandler = event => {\n    setPass(event.target.value);\n  };\n\n  const submitHandler = event => {\n    event.preventDefault(); //Putting data into a object\n\n    let loginData = {\n      username: enteredName,\n      password: enteredPass\n    }; //clear fields\n\n    setName(\"\");\n    setPass(\"\"); //axios.post(`http://localhost:5000/user/login/${enteredName}`);\n\n    axios.post('http://localhost:5000/users/login', loginData).then(res => {\n      const expirationTime = new Date(new Date().getTime() + +res.data.expiresIn);\n      authCtx.login(res.data.token, expirationTime.toISOString());\n    }).catch(error => {\n      if (error.response) {\n        // Request made and server responded\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        // The request was made but no response was received\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.log('Error', error.message);\n      }\n    });\n\n    if (isLogedIn) {\n      history.replace(\"/profile\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid bg-dark text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"Login to Squad Seek\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap justify-content-center mt-auto\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formLoginName\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Username\",\n            onChange: userNamerHandler,\n            value: enteredName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formLoginPass\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            onChange: passwordHandler,\n            value: enteredPass\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"NA+XqhyLTOYU/peP5ljzL37kER4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/elorb/Desktop/erics_repos/CoolCats490/squad-seek/src/pages/Login.js"],"names":["React","useState","useContext","Form","Button","axios","AuthContext","useHistory","Login","enteredName","setName","enteredPass","setPass","authCtx","isLogedIn","isLoggedIn","history","userNamerHandler","event","target","value","passwordHandler","submitHandler","preventDefault","loginData","username","password","post","then","res","expirationTime","Date","getTime","data","expiresIn","login","token","toISOString","catch","error","response","console","log","status","headers","request","message","replace"],"mappings":"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","sourcesContent":["import React,{useState, useContext} from \"react\";\r\n//Bootstrap Stuff\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n//Axios\r\nimport axios from 'axios';\r\nimport AuthContext from \"../Store/auth-context\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nconst Login = () => {\r\n  const [enteredName, setName] = useState(\"\")\r\n  const [enteredPass, setPass] = useState(\"\")\r\n\r\n  //store and get JWL token\r\n  const authCtx = useContext(AuthContext);\r\n  const isLogedIn = authCtx.isLoggedIn;\r\n\r\n  let history = useHistory();\r\n\r\n  const userNamerHandler = (event) =>{\r\n    setName(event.target.value);\r\n  }\r\n\r\n  const passwordHandler = (event) =>{\r\n    setPass(event.target.value);\r\n  }\r\n\r\n  const submitHandler = (event) =>{\r\n    event.preventDefault();\r\n\r\n    //Putting data into a object\r\n    let loginData = {\r\n      username: enteredName,\r\n      password: enteredPass\r\n    };\r\n\r\n    //clear fields\r\n    setName(\"\");\r\n    setPass(\"\");\r\n    //axios.post(`http://localhost:5000/user/login/${enteredName}`);\r\n\r\n\r\n    axios.post('http://localhost:5000/users/login', loginData)\r\n    .then(res => {\r\n      const expirationTime = new Date( new Date().getTime() + (+res.data.expiresIn) );\r\n      authCtx.login(res.data.token, expirationTime.toISOString())\r\n    })\r\n    .catch(error =>{\r\n      if (error.response) {\r\n        // Request made and server responded\r\n        console.log(error.response.data);\r\n        console.log(error.response.status);\r\n        console.log(error.response.headers);\r\n      } else if (error.request) {\r\n        // The request was made but no response was received\r\n        console.log(error.request);\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        console.log('Error', error.message);\r\n      }\r\n    });\r\n\r\n    if(isLogedIn){\r\n      \r\n      history.replace(\"/profile\")\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className = \"container-fluid bg-dark text-white\">\r\n      <h1 className = \"text-center\">Login to Squad Seek</h1>\r\n      <div className = \"d-flex flex-wrap justify-content-center mt-auto\">\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"formLoginName\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            onChange={userNamerHandler}\r\n            value={enteredName}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"formLoginPass\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={passwordHandler}\r\n            value={enteredPass}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}